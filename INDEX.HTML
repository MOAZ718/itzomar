<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <title>itz_omar</title>
</head>
<body>

  <!-- --- Header / Hero / About / Works / Contact (original site) --- -->
  <header>
    <img src="assets/svg/phone.svg" alt="MusaabK99 logo" />
    <nav class="navigation">
      <ul>
        <li><a href="#aboutMe">About Me</a></li>
        <li><a href="#MyWorks">My Works</a></li>
        <li><a href="#contactMe">Contact</a></li>
      </ul>
    </nav>
  </header>
  <hr />

  <section class="hero">
    <img class="arrow" src="assets/svg/arrow.svg" alt="arrow" />
    <div class="herosup">
      <h1 class="name">Iâ€™m Omar</h1>
      <h1 class="title">trust dealar</h1>
      <div class="heroBtns">
        <a class="hireMe" href="#contactMe">Hire me</a>
      </div>
    </div>
    <img src="assets/svg/hero.svg" alt="hero image" class="heroImg" />
  </section>

  <section class="aboutMe" id="aboutMe">
    <img src="assets/svg/AboutMe.svg" alt="aboutMe image" class="aboutMeImg" />
    <div class="textContainer">
      <div class="textTitle">
        <h1 class="aboutName">About</h1>
        <h1 class="aboutTitle">me</h1>
        <img src="assets/svg/lightbulb.svg" alt="light" class="light" />
      </div>
      <p class="aboutMePar">
        The most trust dealar in roblox and i'm have a best brice to robux and brantots
      </p>
    </div>
  </section>

  <section class="works" id="MyWorks">
    <div class="worksContainer">
      <div class="projectTitle">
        <h1 class="aboutName">My recent</h1>
        <h1 class="aboutTitle">works</h1>
      </div>
      <ul>
        <li>
          <a href=""><img src="assets/imgs/landingpage.png" alt="Landing Page" /></a>
        </li>
        <li>
          <a href=""><img src="assets/imgs/webApp.png" alt="Web App" /></a>
        </li>
        <li>
          <a href=""><img src="assets/imgs/App.png" alt="App" /></a>
        </li>
      </ul>
    </div>
  </section>

  <section class="contactContainer" id="contactMe">
    <div class="contactTitle">
      <h1 class="aboutName">Contact</h1>
      <h1 class="aboutTitle">me</h1>
    </div>
    <div class="contact">
      <div class="emailAndPhone">
        <a href="mailto:aljnmr706@gmail.com"><h3>aljnmr706@gmail.com</h3></a>
      </div>
      <div class="emailAndPhon">
        <h3>+20 1287754157</h3>
      </div>
    </div>
    <div class="facebook">
      <h3>https://www.facebook.com/share/1E9Q5FtKuG/</h3>
    </div>
  </section>

  <hr />
  <footer>
    <p>Omar â€” good luck</p>
  </footer>

  <!-- --- Poll & Comments (Arabic RTL app extracted from the file) --- -->
  <section id="pollSection" dir="rtl" lang="ar">
    <div class="container">
      <div class="card" id="pollCard">
        <h1 id="pollQuestion">Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©ØŸ</h1>
        <div class="meta" id="pollMeta">Ø´Ø§Ø±Ùƒ Ø§Ù„Ø¢Ù† â€” Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØªØ¸Ù‡Ø± ÙÙˆØ±Ù‹Ø§</div>

        <form id="pollForm" class="poll-options" aria-label="Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹">
          <!-- OPTIONS ØªÙØ¨Ù†Ù‰ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
        </form>

        <div style="margin-top:12px;">
          <button id="voteBtn" class="vote-btn">ØµÙˆÙ‘Øª</button>
          <span style="margin-inline-start:12px" class="small">Ø§Ù„Ù…ØµÙˆØªÙˆÙ†: <strong id="totalVotes">0</strong></span>
        </div>

        <div class="results" id="resultsArea" aria-live="polite"></div>
      </div>

      <div class="card" id="commentsCard">
        <h1>Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</h1>
        <div class="meta">Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ø£Ùˆ Ø±Ø¯ Ø¹Ù„Ù‰ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†</div>

        <div class="comments-area">
          <div style="margin-top:12px;" class="comment-form" id="commentForm">
            <input type="text" id="username" placeholder="Ø§Ø³Ù…Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" />
            <textarea id="commentText" placeholder="Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§... (Ø­ØªÙ‰ 500 Ø­Ø±Ù)"></textarea>
            <div class="comment-actions">
              <button id="addCommentBtn" class="vote-btn">Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚</button>
              <button id="clearFormBtn" class="btn-secondary">Ù…Ø³Ø­</button>
              <div style="margin-inline-start:auto" class="small">Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª: <span id="commentsCount">0</span></div>
            </div>
          </div>

          <div class="comments-list" id="commentsList" aria-live="polite"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- --- Script (poll + comments logic) --- -->
  <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© â€” ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ø£Ùˆ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª
    const POLL_STORAGE_KEY = 'pollData_v1';
    const COMMENTS_STORAGE_KEY = 'pollComments_v1';

    const defaultPoll = {
      id: 'poll-1',
      question: 'Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©ØŸ',
      options: [
        { id: 'o1', label: 'Ø±Ø§Ø¦Ø¹Ø© ğŸ‘Œ', votes: 12 },
        { id: 'o2', label: 'Ø¬ÙŠØ¯Ø© Ø¥Ù„Ù‰ Ø­Ø¯Ù Ù…Ø§ ğŸ™‚', votes: 7 },
        { id: 'o3', label: 'ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ† ğŸ‘', votes: 3 },
        { id: 'o4', label: 'Ù„Ø§ Ø£Ø¹Ù„Ù… / Ù…Ø­Ø§ÙŠØ¯ ğŸ¤·', votes: 2 }
      ]
    };

    // --- utilities ---
    const el = id => document.getElementById(id);
    function savePoll(poll){ localStorage.setItem(POLL_STORAGE_KEY, JSON.stringify(poll)); }
    function loadPoll(){ return JSON.parse(localStorage.getItem(POLL_STORAGE_KEY) || 'null') || defaultPoll; }
    function saveComments(list){ localStorage.setItem(COMMENTS_STORAGE_KEY, JSON.stringify(list)); }
    function loadComments(){ return JSON.parse(localStorage.getItem(COMMENTS_STORAGE_KEY) || '[]'); }
    function uid(){ return Date.now().toString(36) + Math.random().toString(36).slice(2,8); }
    function timeAgo(ts){
      const diff = Math.floor((Date.now() - ts)/1000);
      if(diff < 10) return 'Ø§Ù„Ø¢Ù†';
      if(diff < 60) return `${diff} Ø«Ø§Ù†ÙŠØ©`;
      if(diff < 3600) return `${Math.floor(diff/60)} Ø¯Ù‚ÙŠÙ‚Ø©`;
      if(diff < 86400) return `${Math.floor(diff/3600)} Ø³Ø§Ø¹Ø©`;
      return `${Math.floor(diff/86400)} ÙŠÙˆÙ…`;
    }
    function initials(name){
      if(!name) return 'Ù…Ø³ØªØ®Ø¯Ù…';
      return name.trim().split(/\s+/).slice(0,2).map(n=>n[0]).join('').toUpperCase();
    }

    // --- Poll render & actions ---
    let poll = loadPoll();
    const pollForm = el('pollForm');
    const resultsArea = el('resultsArea');
    const totalVotesEl = el('totalVotes');

    function renderPoll(){
      el('pollQuestion').textContent = poll.question;
      pollForm.innerHTML = '';
      poll.options.forEach(opt=>{
        const div = document.createElement('label');
        div.className = 'option';
        div.innerHTML = `
          <input type="radio" name="pollOption" value="${opt.id}" />
          <div class="label">
            <div>${opt.label}</div>
          </div>
          <div class="small" style="min-width:72px; text-align:center;">${opt.votes} ØµÙˆØª</div>
        `;
        pollForm.appendChild(div);
      });
      renderResults();
    }

    function renderResults(){
      const total = poll.options.reduce((s,o)=>s+o.votes,0);
      totalVotesEl.textContent = total;
      resultsArea.innerHTML = '';
      poll.options.forEach(opt=>{
        const percent = total ? Math.round((opt.votes/total)*100) : 0;
        const node = document.createElement('div');
        node.innerHTML = `
          <div style="display:flex;justify-content:space-between; align-items:center; gap:10px;">
            <div class="small">${opt.label}</div>
            <div class="small">${percent}% â€” ${opt.votes} ØµÙˆØª</div>
          </div>
          <div class="bar"><i style="width:${percent}%;"></i></div>
        `;
        resultsArea.appendChild(node);
      });
    }

    el('voteBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      const selected = document.querySelector('input[name="pollOption"]:checked');
      if(!selected){ alert('Ø§Ø®ØªØ± Ø®ÙŠØ§Ø±Ù‹Ø§ Ø£ÙˆÙ„Ø§Ù‹'); return; }
      const id = selected.value;
      const opt = poll.options.find(o=>o.id===id);
      if(!opt) return;
      opt.votes++;
      savePoll(poll);
      renderPoll();
      // ÙŠÙ…ÙƒÙ†Ùƒ Ù‡Ù†Ø§ Ø£Ù† ØªØ±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø³ÙŠØ±ÙØ± Ø¹Ø¨Ø± fetch Ù„Ø­ÙØ¸ Ø§Ù„ØªØµÙˆÙŠØª Ø¨ØµÙˆØ±Ø© Ø¯Ø§Ø¦Ù…Ø©
    });

    // --- Comments render & actions ---
    let comments = loadComments(); // array of comment objects
    // comment model: {id, parentId|null, name, text, createdAt, likes}

    const commentsList = el('commentsList');
    const commentsCount = el('commentsCount');

    function renderComments(){
      commentsList.innerHTML = '';
      const topLevel = comments.filter(c=>!c.parentId).sort((a,b)=>b.createdAt-a.createdAt);
      commentsCount.textContent = comments.length;
      topLevel.forEach(c => {
        commentsList.appendChild(createCommentNode(c));
      });
    }

    function createCommentNode(c){
      const wrap = document.createElement('div');
      wrap.className = 'comment';
      const avatar = document.createElement('div');
      avatar.className = 'avatar';
      avatar.textContent = initials(c.name || 'Ù…Ø³ØªØ®Ø¯Ù…');

      const body = document.createElement('div');
      body.className = 'comment-body';
      const top = document.createElement('div');
      top.className = 'comment-top';

      const left = document.createElement('div');
      left.innerHTML = `<div class="comment-author">${c.name || 'Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ù‡ÙˆÙ„'}</div><div class="small">${timeAgo(c.createdAt)}</div>`;

      const right = document.createElement('div');
      right.innerHTML = `<div class="small">${c.likes || 0} â¤</div>`;
      top.appendChild(left);
      top.appendChild(right);

      const text = document.createElement('div');
      text.className = 'comment-text';
      text.textContent = c.text;

      const controls = document.createElement('div');
      controls.className = 'comment-controls';
      // actions: like, reply, edit, delete
      const likeBtn = document.createElement('button');
      likeBtn.className = 'link-btn';
      likeBtn.textContent = 'Ø¥Ø¹Ø¬Ø§Ø¨';
      likeBtn.onclick = () => { c.likes = (c.likes||0)+1; saveAndRerender(); };

      const replyBtn = document.createElement('button');
      replyBtn.className = 'link-btn';
      replyBtn.textContent = 'Ø±Ø¯';
      replyBtn.onclick = () => openReplyBox(c.id, wrap);

      const editBtn = document.createElement('button');
      editBtn.className = 'link-btn';
      editBtn.textContent = 'ØªØ¹Ø¯ÙŠÙ„';
      editBtn.onclick = () => openEditBox(c, text);

      const delBtn = document.createElement('button');
      delBtn.className = 'link-btn';
      delBtn.style.color = 'var(--danger)';
      delBtn.textContent = 'Ø­Ø°Ù';
      delBtn.onclick = () => {
        if(confirm('Ù‡Ù„ ØªÙˆØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ØŸ')) {
          // Ø­Ø°Ù Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ ÙˆÙƒÙ„ Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù‡
          comments = comments.filter(x => x.id !== c.id && x.parentId !== c.id);
          saveAndRerender();
        }
      };

      controls.appendChild(likeBtn);
      controls.appendChild(replyBtn);
      controls.appendChild(editBtn);
      controls.appendChild(delBtn);

      body.appendChild(top);
      body.appendChild(text);
      body.appendChild(controls);

      // replies
      const replies = comments.filter(x=>x.parentId===c.id).sort((a,b)=>a.createdAt-b.createdAt);
      if(replies.length){
        const repliesWrap = document.createElement('div');
        repliesWrap.className = 'reply';
        replies.forEach(r => {
          const node = document.createElement('div');
          node.className = 'comment';
          node.style.marginInlineStart = '0';
          const av2 = document.createElement('div');
          av2.className = 'avatar';
          av2.textContent = initials(r.name || 'Ù…Ø³ØªØ®Ø¯Ù…');
          const bd2 = document.createElement('div');
          bd2.className = 'comment-body';
          bd2.innerHTML = `<div style="display:flex;justify-content:space-between"><div><strong>${r.name||'Ù…Ø³ØªØ®Ø¯Ù…'}</strong><div class="small">${timeAgo(r.createdAt)}</div></div><div class="small">${r.likes||0} â¤</div></div><div class="comment-text">${escapeHtml(r.text)}</div>`;
          const ctr2 = document.createElement('div');
          ctr2.className = 'comment-controls';
          const like2 = document.createElement('button');
          like2.className = 'link-btn'; like2.textContent='Ø¥Ø¹Ø¬Ø§Ø¨'; like2.onclick=()=>{ r.likes=(r.likes||0)+1; saveAndRerender(); };
          const del2 = document.createElement('button'); del2.className='link-btn'; del2.textContent='Ø­Ø°Ù'; del2.style.color='var(--danger)'; del2.onclick=()=>{ if(confirm('Ø­Ø°Ù Ø§Ù„Ø±Ø¯ØŸ')){ comments = comments.filter(x => x.id !== r.id); saveAndRerender(); } };
          ctr2.appendChild(like2); ctr2.appendChild(del2);
          bd2.appendChild(ctr2);
          node.appendChild(av2); node.appendChild(bd2);
          repliesWrap.appendChild(node);
        });
        body.appendChild(repliesWrap);
      }

      wrap.appendChild(avatar);
      wrap.appendChild(body);
      return wrap;
    }

    function openReplyBox(parentId, afterNode){
      if(afterNode.querySelector('.reply-box')) return;
      const box = document.createElement('div');
      box.className = 'reply-box';
      box.style.marginTop = '8px';
      box.innerHTML = `
        <input class="inline-edit" placeholder="Ø§Ø³Ù…Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" />
        <textarea class="inline-edit" placeholder="Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ..." style="min-height:70px"></textarea>
        <div style="display:flex; gap:8px; margin-top:6px;">
          <button class="vote-btn">Ù†Ø´Ø± Ø§Ù„Ø±Ø¯</button>
          <button class="btn-secondary">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
      `;
      const nameInput = box.querySelector('input');
      const txt = box.querySelector('textarea');
      const publish = box.querySelector('.vote-btn');
      const cancel = box.querySelector('.btn-secondary');
      publish.onclick = ()=>{
        const text = txt.value.trim();
        if(!text){ alert('Ø§ÙƒØªØ¨ Ø±Ø¯Ù‹Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±'); return; }
        const comment = { id: uid(), parentId, name: nameInput.value.trim(), text, createdAt: Date.now(), likes: 0 };
        comments.push(comment);
        saveAndRerender();
      };
      cancel.onclick = ()=> box.remove();
      afterNode.appendChild(box);
      txt.focus();
    }

    function openEditBox(comment, textNode){
      const edit = document.createElement('div');
      edit.style.display = 'flex';
      edit.style.flexDirection = 'column';
      edit.style.gap = '8px';
      const ta = document.createElement('textarea');
      ta.className = 'inline-edit';
      ta.value = comment.text;
      const actions = document.createElement('div');
      actions.style.display='flex'; actions.style.gap='8px';
      const save = document.createElement('button');
      save.className = 'vote-btn'; save.textContent='Ø­ÙØ¸';
      const cancel = document.createElement('button'); cancel.className='btn-secondary'; cancel.textContent='Ø¥Ù„ØºØ§Ø¡';
      actions.appendChild(save); actions.appendChild(cancel);
      edit.appendChild(ta); edit.appendChild(actions);
      textNode.replaceWith(edit);
      ta.focus();
      save.onclick = ()=>{
        const v = ta.value.trim();
        if(!v){ alert('Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙØ§Ø±ØºÙ‹Ø§'); return; }
        comment.text = v;
        saveAndRerender();
      };
      cancel.onclick = ()=> saveAndRerender();
    }

    function escapeHtml(s){
      if(!s) return '';
      return s.replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));
    }

    function saveAndRerender(){
      saveComments(comments);
      renderComments();
    }

    // form actions
    el('addCommentBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      const name = el('username').value.trim();
      const text = el('commentText').value.trim();
      if(!text){ alert('Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ù‹Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±'); return; }
      if(text.length > 500){ alert('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 500 Ø­Ø±Ù'); return; }
      const comment = { id: uid(), parentId: null, name, text, createdAt: Date.now(), likes: 0 };
      comments.push(comment);
      saveComments(comments);
      el('commentText').value = '';
      el('username').value = '';
      renderComments();
    });

    el('clearFormBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      el('commentText').value = '';
      el('username').value = '';
    });

    // initial render
    renderPoll();
    renderComments();

    // Ù„Ù„Ù…Ø·ÙˆÙ‘Ø±: Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±)
    window.__resetDemoData = function(){
      localStorage.removeItem(POLL_STORAGE_KEY);
      localStorage.removeItem(COMMENTS_STORAGE_KEY);
      poll = loadPoll();
      comments = [];
      savePoll(poll);
      saveComments(comments);
      renderPoll();
      renderComments();
      alert('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ØªÙˆØ¶ÙŠØ­ÙŠØ©');
    };
  </script>
</body>
</html>